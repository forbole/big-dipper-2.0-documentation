<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">v1.1.0 | Big Dipper 2.0 Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.bigdipper.live/cosmos-based/parser/migrations/v1.1.0"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="v1.1.0 | Big Dipper 2.0 Documentation"><meta data-react-helmet="true" name="description" content="Since the release of BDjuno `v1.1.0`, certain address-specific data are no longer periodically parsed from the node and stored in the database."><meta data-react-helmet="true" property="og:description" content="Since the release of BDjuno `v1.1.0`, certain address-specific data are no longer periodically parsed from the node and stored in the database."><meta data-react-helmet="true" property="og:image" content="https://docs.bigdipper.live/assets/cover.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.bigdipper.live/assets/cover.png"><link data-react-helmet="true" rel="shortcut icon" href="/assets/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.bigdipper.live/cosmos-based/parser/migrations/v1.1.0"><link data-react-helmet="true" rel="alternate" href="https://docs.bigdipper.live/cosmos-based/parser/migrations/v1.1.0" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.bigdipper.live/cosmos-based/parser/migrations/v1.1.0" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bd168e87.css">
<link rel="preload" href="/assets/js/runtime~main.ef7e7c64.js" as="script">
<link rel="preload" href="/assets/js/main.1b58145e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/assets/logo.png" alt="Big Dipper logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/assets/logo.png" alt="Big Dipper logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Big Dipper 2.0 Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cosmos Based Chains</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">BDJuno</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/parser/overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/parser/database">1. Setup the database</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/parser/setup">2. Setup and run BDJuno</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/parser/hasura">3. Run Hasura</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Config reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/parser/custom-chains">Custom chains</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Migrations</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/cosmos-based/parser/migrations/v1.1.0">v1.1.0</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Big Dipper UI</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">v1.1.0</h1></header><p>Since the release of BDjuno <code>v1.1.0</code>, certain address-specific data are no longer periodically parsed from the node and stored in the database.
Instead, those data are obtained directly from the node when necessary thanks to the <a href="https://hasura.io/docs/latest/graphql/core/actions/index.html" target="_blank" rel="noopener noreferrer">Hasura Actions</a> service.</p><p>Here&#x27;s the list of data which are acquired through Hasura Actions:</p><ul><li>Of a certain address/delegator:<ul><li>Account balance</li><li>Delegation rewards</li><li>Delegator withdraw address</li><li>Delegations</li><li>Total delegations amount</li><li>Unbonding delegations</li><li>Total unbonding delegations amount</li><li>Redelegations</li></ul></li><li>Of a certain validator:<ul><li>Commission amount</li><li>Delegations to this validator</li><li>Redelegations from this validator</li><li>Unbonding delegations</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="update-your-chains-base-branch"></a>Update your chain&#x27;s base branch<a class="hash-link" href="#update-your-chains-base-branch" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">git fetch --tags</span></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout &lt;your chain base&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b merge/v1.1.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="merge-tag-according-to-your-cosmos-sdk-base"></a>Merge tag according to your cosmos sdk base:<a class="hash-link" href="#merge-tag-according-to-your-cosmos-sdk-base" title="Direct link to heading">#</a></h3><p>For cosmos sdk v0.44.x and later:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">git merge v1.1.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For stargate:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">git merge v1.1.0-stargate</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Fix all merge conflicts.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="update-hasura-metadata"></a>Update hasura metadata<a class="hash-link" href="#update-hasura-metadata" title="Direct link to heading">#</a></h2><p>Go to the hasura directory and re-apply the metadata to include the hasura actions:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">cd bdjuno/hasura</span></span><span class="token-line" style="color:#393A34"><span class="token plain">hasura metadata apply --endpoint &lt;your-endpoint&gt; --admin-secret &lt;hasura_password&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="restart-services"></a>Restart services<a class="hash-link" href="#restart-services" title="Direct link to heading">#</a></h2><p>Make install, restart the <a href="/cosmos-based/parser/setup#running-bdjuno">bdjuno service</a>, and
start the <a href="/cosmos-based/parser/hasura#start-hasura-actions">hasura actions service</a>. </p><p>Once the bdjuno and hasura actions are working properly, optionally
you could drop the below DB tables which will no longer be updated by the new BDjuno along with the functions:</p><p>Tables: </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">account_balance</span></span><span class="token-line" style="color:#393A34"><span class="token plain">delegation</span></span><span class="token-line" style="color:#393A34"><span class="token plain">redelegation</span></span><span class="token-line" style="color:#393A34"><span class="token plain">unbonding_delegation</span></span><span class="token-line" style="color:#393A34"><span class="token plain">delegators_to_refresh</span></span><span class="token-line" style="color:#393A34"><span class="token plain">validator_commission_amount</span></span><span class="token-line" style="color:#393A34"><span class="token plain">delegation_reward</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Functions:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">self_delegations</span></span><span class="token-line" style="color:#393A34"><span class="token plain">is_delegation_self_delegate</span></span><span class="token-line" style="color:#393A34"><span class="token plain">account_balance_tokens_prices</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2022-03-10T06:58:09.000Z">3/10/2022</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cosmos-based/parser/custom-chains"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Custom chains</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cosmos-based/frontend/setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setup Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#update-your-chains-base-branch" class="table-of-contents__link">Update your chain&#39;s base branch</a><ul><li><a href="#merge-tag-according-to-your-cosmos-sdk-base" class="table-of-contents__link">Merge tag according to your cosmos sdk base:</a></li></ul></li><li><a href="#update-hasura-metadata" class="table-of-contents__link">Update hasura metadata</a></li><li><a href="#restart-services" class="table-of-contents__link">Restart services</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.ef7e7c64.js"></script>
<script src="/assets/js/main.1b58145e.js"></script>
</body>
</html>