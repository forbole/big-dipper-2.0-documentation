<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<title data-react-helmet="true">base-v1.10.0 to base-v2.0.0 | Big Dipper 2.0 Documentation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://docs.bigdipper.live/cosmos-based/frontend/migrations/v1.10.0-to-v2.0.0"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="base-v1.10.0 to base-v2.0.0 | Big Dipper 2.0 Documentation"><meta data-react-helmet="true" name="description" content="This major release is only compatible with bdjuno v2.0.0+"><meta data-react-helmet="true" property="og:description" content="This major release is only compatible with bdjuno v2.0.0+"><meta data-react-helmet="true" property="og:image" content="https://docs.bigdipper.live/assets/cover.png"><meta data-react-helmet="true" name="twitter:image" content="https://docs.bigdipper.live/assets/cover.png"><link data-react-helmet="true" rel="shortcut icon" href="/assets/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.bigdipper.live/cosmos-based/frontend/migrations/v1.10.0-to-v2.0.0"><link data-react-helmet="true" rel="alternate" href="https://docs.bigdipper.live/cosmos-based/frontend/migrations/v1.10.0-to-v2.0.0" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.bigdipper.live/cosmos-based/frontend/migrations/v1.10.0-to-v2.0.0" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bd168e87.css">
<link rel="preload" href="/assets/js/runtime~main.915b2eec.js" as="script">
<link rel="preload" href="/assets/js/main.a69712d5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/"><img src="/assets/logo.png" alt="Big Dipper logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/assets/logo.png" alt="Big Dipper logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Big Dipper 2.0 Documentation</b></a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cosmos Based Chains</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/overview">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">BDJuno</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Big Dipper UI</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/frontend/setup">Setup</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Customisation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/frontend/chain-config">Chain Config Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/frontend/general-config">General Config Reference</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Migrations</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/cosmos-based/frontend/migrations/v1.10.0-to-v2.0.0">base-v1.10.0 to base-v2.0.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/frontend/migrations/v1.9.0-to-v1.10.0">base-v1.9.0 to base-v1.10.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/frontend/migrations/v1.6.0-to-v1.7.0">base-v1.6.0 to base-v1.7.0</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/cosmos-based/frontend/migrations/v1.x.x-to-v1.6.0">base-v1.x.x to base-v1.6.0</a></li></ul></li></ul></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">base-v1.10.0 to base-v2.0.0</h1></header><div class="admonition admonition-warning alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>warning</h5></div><div class="admonition-content"><p><strong>This major release is only compatible with <a href="https://github.com/forbole/bdjuno" target="_blank" rel="noopener noreferrer">bdjuno</a> <code>v2.0.0+</code></strong></p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="changes"></a>Changes<a class="hash-link" href="#changes" title="Direct link to heading">#</a></h2><p>As a network continues to grow we have noticed major lags in bdjuno and the database growing unncessarily big. Since the release of bdjuno <code>v2.0.0</code>, they have introduced hasura actions in which they offloaded certain data to the node directly as opposed to keeping it in psql. Doing this has broken some unique UI we may have but it has strongly improved bdjuno&#x27;s indexing performance.</p><p>As of <code>base-v2.0.0</code>, we have updated our graphql to use the necessary hasura actions.</p><p>Other changes include:</p><ul><li>Add better handling of get denom return types (<a href="https://github.com/forbole/big-dipper-2.0-cosmos/issues/735" target="_blank" rel="noopener noreferrer">#735</a>)</li><li>Updated market cap display (<a href="https://github.com/forbole/big-dipper-2.0-cosmos/issues/698" target="_blank" rel="noopener noreferrer">#698</a>)</li><li>Optimised validator details and account details to prevent random polling behavior (<a href="https://github.com/forbole/big-dipper-2.0-cosmos/issues/703" target="_blank" rel="noopener noreferrer">#703</a>)</li><li>Add hasura actions error handling in account details (<a href="https://github.com/forbole/big-dipper-2.0-cosmos/issues/713" target="_blank" rel="noopener noreferrer">#713</a>)</li><li>Display accounts even if balance is 0 and does not exist (<a href="https://github.com/forbole/big-dipper-2.0-cosmos/issues/692" target="_blank" rel="noopener noreferrer">#692</a>)</li><li>Update handling of 18 decimal places denoms (<a href="https://github.com/forbole/big-dipper-2.0-cosmos/issues/724" target="_blank" rel="noopener noreferrer">#724</a>)</li><li>Changed <code>NEXT_PUBLIC_WS_CHAIN_URL</code> to <code>NEXT_PUBLIC_RPC_WEBSOCKET</code> for clarification with backwards compatibility</li><li>Changed <code>NEXT_PUBLIC_CHAIN_STATUS</code> to <code>NEXT_PUBLIC_CHAIN_TYPE</code> for clarification with backwards compatibility</li><li>Fixed Apr error if bonded tokens is 0 (<a href="https://github.com/forbole/big-dipper-2.0-cosmos/issues/758" target="_blank" rel="noopener noreferrer">#758</a>)</li></ul><p>You may read the release changelog <a href="https://github.com/forbole/big-dipper-2.0-cosmos/releases/tag/base-v2.0.0" target="_blank" rel="noopener noreferrer">here</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="update-bdjuno-to-v200"></a>Update BDJuno to v2.0.0<a class="hash-link" href="#update-bdjuno-to-v200" title="Direct link to heading">#</a></h2><p>Follow the <a href="https://docs.bigdipper.live/cosmos-based/parser/hasura#start-hasura-actions" target="_blank" rel="noopener noreferrer">docs</a> and setup hasura action and update the hasura metadata</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="update-your-chains-base-branch"></a>Update your chain&#x27;s base branch<a class="hash-link" href="#update-your-chains-base-branch" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">git fetch --tags</span></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout &lt;your chain base&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">git checkout -b merge/v2.0.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">git merge base-v2.0.0</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>If <code>src/graphql/types.tsx</code> has merge conflicts, delete the file and edit <code>codegen.yml</code> to your graphql url and run <code>npm run graphql:codegen</code>, this will correctly regenerate the types file based on your hasura, and throw error if the hasura was not setup correctly.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><pre tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">overwrite</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># omitOperationSuffix: true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">skipTypeNameForRoot</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">generates</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">./src/graphql/types.tsx</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">documents</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./src/**/*.graphql&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./src/**/*_actions.ts&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;!./src/**/desmos_profile.graphql&#x27;</span><span class="token plain"></span></span><span class="token-line docusaurus-highlight-code-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">schema</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &lt;your graphql url</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">plugins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;typescript&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;typescript-operations&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;typescript-react-apollo&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># To generate custom hooks per query</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">./src/graphql/desmos_profile.ts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">schema</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> https</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">//gql.mainnet.desmos.network/v1/graphql</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">documents</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;src/graphql/desmos_profile_graphql.ts&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">plugins</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;typescript&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;typescript-operations&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="test-the-upgrade-worked"></a>Test the upgrade worked<a class="hash-link" href="#test-the-upgrade-worked" title="Direct link to heading">#</a></h2><p>You can test the new changes by going to any validator or account details page. The balance and staking information should now be returned directly from the node, showing live data as oppose to the previous delay.</p></div><footer class="row docusaurus-mt-lg"><div class="col"></div><div class="col lastUpdated_3DPF">Last updated on <b><time datetime="2022-03-14T03:19:41.000Z">3/14/2022</time></b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/cosmos-based/frontend/general-config"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« General Config Reference</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/cosmos-based/frontend/migrations/v1.9.0-to-v1.10.0"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">base-v1.9.0 to base-v1.10.0 Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#changes" class="table-of-contents__link">Changes</a></li><li><a href="#update-bdjuno-to-v200" class="table-of-contents__link">Update BDJuno to v2.0.0</a></li><li><a href="#update-your-chains-base-branch" class="table-of-contents__link">Update your chain&#39;s base branch</a></li><li><a href="#test-the-upgrade-worked" class="table-of-contents__link">Test the upgrade worked</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"></div></div></footer></div>
<script src="/assets/js/runtime~main.915b2eec.js"></script>
<script src="/assets/js/main.a69712d5.js"></script>
</body>
</html>